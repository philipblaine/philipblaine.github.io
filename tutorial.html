<!DOCTYPE html>
<html>
<head>
  <title>Philip Meersman, GIS</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/w3.css">
</head>
<body>

<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar w3-brown w3-wide w3-padding w3-card">
    <a href="index.html" class="w3-bar-item w3-button">Philip Meersman</a>
    <!-- Float links to the right. -->
    <div class="w3-right">
      <a href="index.html#about" class="w3-bar-item w3-button">About/Contact</a>
      <a href="index.html#projects" class="w3-bar-item w3-button">Projects</a>
      <a href="index.html#tutorial" class="w3-bar-item w3-button">Blender Animation Tutorial</a>
    </div>
  </div>
</div>

<div class="w3-content w3-padding" style="max-width:1256px">

  <div class="w3-container w3-padding-32" id="about">
    <h3 class="w3-border-bottom w3-border-light-grey w3-padding-16">Blender Tutorial</h3>
    <p>Here is a detailed list of steps I took to produce three difference map scenes from Blender, one still and two animations.
      These tutorials assume a basic knowledge of Blender and that you know how to obtain/process DEM files
      for use in Blender.
      References are listed at the end.
    </p>
  </div>

  <div class="w3-container w3-padding-32" id="about">
    <h3 class="w3-border-bottom w3-border-light-grey w3-padding-16">Setup</h3>
    <p>Created in Blender v 2.91.1 on Windows 10.
    </p>
  </div>

  <div class="w3-container w3-padding-32" id="ocean">
    <h3 class="w3-border-bottom w3-border-light-grey w3-padding-16">Large-Scale Ocean Construction</h3>
    <p>I followed Dylan Neill's ocean tutorial on YouTube closely to produce the ocean in my scenes.
       I will not re-state his steps, but begin my tutorial assuming an ocean constructed with his
       techniques.

       Changes to ocean preview bake:
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/ocean_preview_bake.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       1. Adjust the frame end value depending on how long you'd like your animation to be. In my case, I tried
       60fps for 900 frames (starting at 1 and ending with 901), for a 15 second animation. I also played
       with 30fps, 450 frames for a quicker render. <br />
       2. Re-bake your ocean preview. Unless you're happy with Neill's bake settings, you'll have to
       specify a new cache and re-bake your ocean preview with the correct number of frames.<br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/ocean_preview_keyframe.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       3. Change keyframes to accommodate new framerate/time of animation. You'll have irregular or repeating
       loops in your animation if you don't change this.<br /><br />


       Changes to ocean/background:<br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/world_shader.PNG" class="w3-image" style="width:90%">
           </div>
         </a> <!-- end link -->
         </div>
         <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/world_shader_background.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
         1. Experiment with background strengths until you find something you like. For me, this was 0.800.<br />
         <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/object_shader_ocean.PNG" class="w3-image" style="width:90%">
           </div>
         </a> <!-- end link -->
         </div>
         <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/object_shader_ocean_settings.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
         2. Change the source of baked frames in the ocean object shader editor. Choose the cache where
         you stored your new baked ocean preview. Also change the number of frames to match your
         animation.


    </p>
  </div>

  <div class="w3-container w3-padding-32" id="landmass">
    <h3 class="w3-border-bottom w3-border-light-grey w3-padding-16">Adding a Landmass</h3>
    <p>This is where my original work begins. Once you have the ocean set up however you like, you will
      need some sort of landmass to add to it (otherwise this tutorial is not going to be helpful).


       Creating your landmass:<br />
       1. Create a mesh plane. Click on the scene in Object Mode and using shift+a create a mesh plane in
       its own Collection.<br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/scale.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       2. Scale your plane to fit the ocean in Object Properties. For me this was ~50x for X, Y, Z. Make sure that whatever
       scale you decide on is the same for X, Y, Z to eliminate distortion.<br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/plane_subdivide_modifier.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       3. Add a "Generate - Subdivision Surface" modifier to your plane. I use simple with viewport and render
       levels of 11. <br />
        <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
            <div class="w3-display-container" >
              <img src="images/plane_displace.PNG" class="w3-image" style="width:30%">
            </div>
          </a> <!-- end link -->
          </div>
    4. Add a "Deform - Displace" modifier to your plane. Select "New" to add a new texture.<br />
          <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
              <div class="w3-display-container" >
                <img src="images/plane_texture.PNG" class="w3-image" style="width:30%">
              </div>
            </a> <!-- end link -->
            </div>
     5. Select "Open" and navigate to whatever DEM you may be using. This DEM should be scaled
     with values from ~0-65,000 to maximize quality in Blender.<br />
            <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
                <div class="w3-display-container" >
                  <img src="images/first_mk.PNG" class="w3-image" style="width:60%">
                </div>
              </a> <!-- end link -->
              </div>
              This is what my plane looks like now. This is not great, but it's easy to get it looking better.<br />
              <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
                  <div class="w3-display-container" >
                    <img src="images/plane_modifiers.PNG" class="w3-image" style="width:30%">
                  </div>
                </a> <!-- end link -->
                </div>
        6. Navigate back to your plane modifiers and look at your Displace. Change Midlevel to 0.
        Change strength to whatever looks best for your project, for me the original strength was
        too exaggerated, so I used 0.4. Change your coordinates to UV.<br />
        This is looking pretty good! We have a rough hillshade of our landmass floating on the water.
        My DEM contains bathymetry data, so I would like to submerge some of my landmass under the water.<br />
                <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
                    <div class="w3-display-container" >
                      <img src="images/plane_object_properties.PNG" class="w3-image" style="width:30%">
                    </div>
                  </a> <!-- end link -->
                  </div>
        7. Navigate to your plane's Object Properties. Toggle with the Z location in order to submerge
        part of your landmass. This techique can also be used to create fantasy landmasses!
        Now we might want to add an image texture to our plane. It looks neat now but we could do with
        some imagery. I'm using aerial imagery from Bing Maps, but any image file can be used.<br />
        <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
            <div class="w3-display-container" >
              <img src="images/plane_material_properties.PNG" class="w3-image" style="width:30%">
            </div>
          </a> <!-- end link -->
          </div>
        8. Navigate to your plane's Material Properties. Change the surface to Principled BSDF. Select the
        base color and choose "Image Texture". Navigate to your image file that you'd like overlayed
        on your plane. For me this is closeupaerial.tif. Adjust the rest of the Principles BSDF settings
        to your liking.<br />
        <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
            <div class="w3-display-container" >
              <img src="images/colored_mk.PNG" class="w3-image" style="width:60%">
            </div>
          </a> <!-- end link -->
          </div>
        This is what we have now! This looks awesome. We have real aerial imagery overlayed on a plane
        displaced by DEM data. This is the landmass we'll use for the two animations I've included here.

    </p>
  </div>

  <div class="w3-container w3-padding-32" id="animations">
    <h3 class="w3-border-bottom w3-border-light-grey w3-padding-16">Comparison Render</h3>
    <p>First I'll describe my process for comparing Mauna Kea to Mount Everest. It's pretty
      simple, consisting of creating two textured planes and overlaying them on one another. <br />

      <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
          <div class="w3-display-container" >
            <img src="images/comparison.jpg" class="w3-image" style="width:60%">
          </div>
        </a> <!-- end link -->
        </div>

        <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
            <div class="w3-display-container" >
              <img src="images/scene.PNG" class="w3-image" style="width:30%">
            </div>
          </a> <!-- end link -->
          </div>

       1. Repeat steps 3-6 from above to get your first landmass into Blender. Ideally this will be its
       own project. Navigate to the World Properties and change the color to something neutral and solid.
       White works well for this comparison render. <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/mk_material.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>

      2. Navigate to the Material Properties of your first landmass. Change the color to black.
      you might return to this menu later to change surface settings once the two landmasses
      are overlayed.  <br />
      <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
          <div class="w3-display-container" >
            <img src="images/mk_only.PNG" class="w3-image" style="width:30%">
          </div>
        </a> <!-- end link -->
        </div>
        My scene looks something like this now. One landmass and a white background.  <br />

        <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
            <div class="w3-display-container" >
              <img src="images/mk_and_everest.PNG" class="w3-image" style="width:30%">
            </div>
          </a> <!-- end link -->
          </div>

       3. Repeat steps 3-6 from the landmass section to generate a second landmass for the scene.
       I used DEM data from Mount Everest because my purpose in creating this comparison was to
       see Mauna Kea and Mount Everest side by side. In Material Properties change the color
       of your second landmass to something distinctive. I chose dark red. Navigate to the
       Object Properties page and move both landmasses to the origin. They should overlap by
       default.  <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/cam_settings.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       4. Move your camera around until you find a good angle to view both landmasses. I found
       these settings to work for me. Change the surface properties of each landmass until you like
       the contrast between them. While useful for comparing mountain height, for example,
       this technique could also be useful for comparing any sort of landform or other
       geographic phenomena.  <br />
       5. Render your image! Save it somewhere handy and tweak settings until you like it. <br />


    </p>
  </div>


  <div class="w3-container w3-padding-32" id="animations">
    <h3 class="w3-border-bottom w3-border-light-grey w3-padding-16">Static Camera Animation</h3>
    <p>Here is my explanation of how I created the still-scene animation of sun and ocean movement
      througout a simulated day. I use the Eevee engine, which sacrifices some quality for rendering time.
      Cycles produces higher quality but takes significantly longer. <br />

      <div class="w3-col l12 m12 w3-margin-bottom" style='margin-top:80px;'> <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
        <div class="w3-display-container" >
        <iframe width="1000" height="1000" src="https://www.youtube.com/embed/i6iNzblUwXg" title="YouTube video player" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </a> <!-- end link -->
      </div>
      <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
          <div class="w3-display-container" >
            <img src="images/mk_still.PNG" class="w3-image" style="width:60%">
          </div>
        </a> <!-- end link -->
        </div>
       1. Center your camera above your landmass. Change X, Y, and Z locations until you're happy with
       the orientation. This will depend on the size of your landmass. <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/timeline_slider.PNG" class="w3-image" style="width:60%">
           </div>
         </a> <!-- end link -->
         </div>
       2. Navigate to the first frame in your animation.<br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/world_camera_rotation.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       3. Navigate to the world shader editor. If you followed Neill's tutorial, here should be your
       environment texture settings. Within the Mapping node, we'll beggin to keyframe the texture's
       rotations. This texture is the light in the scene and acts as the sun rising and setting. This
       is simulated using the Y rotation setting. To simulate a rising sun, set the Y rotation to -15.
       Then, with your cursor hovered over the value "-15", press i. This will add a keyframe to
       your animation. At your current frame (1) the environment texture will be rotated -15 degrees. <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/timeline_61.PNG" class="w3-image" style="width:60%">
           </div>
         </a> <!-- end link -->
         </div>
       4. Navigate one second further into your animation. Since I was using 60fps, this is frame 61 (since I began
       with frame 1). <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/mapping_61.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       5. Determine how much you want the sun to rotate every second. I chose 15 degrees per second, for
       a total rotation of (15 degrees per second)*(15 seconds)=225 degrees. In other words, my
       sun will rotate 225 degrees over the course of the animation. This creates a sort of time lapse
       effect. Add this number of degrees you're rotating per second to the initial rotation value. This sum
       becomes the new Y rotation value.  <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/mapping_901.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       6. Repeat steps 4-5 until you reach the end of your animation. In my case this was 900 frames. You
       should end up with a Y rotation value equal to the number of seconds in your animation times the
       number of degrees rotated per second, plus your starting Y rotation value. You can now scrub between
       frame 1 and your end frame to get a feel for what the sun movement will look like, and change any keyframes
       accordingly. <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/keyframe.PNG" class="w3-image" style="width:40%">
           </div>
         </a> <!-- end link -->
         </div>
       7. Navigate to the timeline editor and click anywhere on the timeline. Press t. Then select
       "Linear" from interpolation options. This creates a linear rate of changge between frames,
       and makes the time lapse simulation look nicer. <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/avi.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       8. Navigate to the project Output Properties. Change your output file format to AVI JPEG,
       or another video format. Also choose a file path where your render will end up.
       This is also where you should make sure the number of frames
       you're outputting is the same as you keyframed for. You can also toggle quality settings
       for faster test renders if you'd like. <br />
       9. Now you wait! This render might take a while depending on how many frames you chose.
       Hopefully you'll be lucky and end up with something awesome on your first render, it took
       me many attempt to get the render I wanted.


    </p>
  </div>

  <div class="w3-container w3-padding-32" id="animations">
    <h3 class="w3-border-bottom w3-border-light-grey w3-padding-16">Dynamic Camera Animation</h3>
    <p>Now I'll describe my process for producing the fly-by animation, which involves a
      dynamic camera position. You'll probably want to create a copy of your .blend project
      so that you don't lose any of that work. <br />

      <div class="w3-col l12 m12 w3-margin-bottom" style='margin-top:80px;'> <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
        <div class="w3-display-container" >
        <iframe width="1000" height="1000" src="https://www.youtube.com/embed/R4syoIuphDw" title="YouTube video player" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </a> <!-- end link -->
      </div>
      <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
          <div class="w3-display-container" >
            <img src="images/camera_begin.PNG" class="w3-image" style="width:60%">
          </div>
        </a> <!-- end link -->
        </div>
       1. Choose a starting position for your camera. To do this more easily, you can click on the camera
       object, and then press n. This should open a menu. Select "View" from that menu and choose
       "Lock Camera to View". This way you can pan and scroll around the scene as usual and the camera will
       follow you. If you're creating a fly-by scene you might want
       to choose a position where you can see the entire landmass. <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/timeline_slider.PNG" class="w3-image" style="width:60%">
           </div>
         </a> <!-- end link -->
         </div>
       2. Navigate to the first frame in your animation.<br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/cam_keyframe.jpg" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       3. While having the camera selected, press i in the scene. You will see options for keyframing.
       Select "Location and Rotation". This will add both the X,Y,Z coordinates and rotations to your
       animations keyframe sequence. This way, you can simply move the camera around (while locked
       to view) and press i -> location and rotation to add as many keyframes as you like.  <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/middle_cam.PNG" class="w3-image" style="width:30%">
           </div>
         </a> <!-- end link -->
         </div>
       4. Whenever you want to add a new keyframe (I added a new one for each second of my animation),
       just repeat step 4. Blender will automatically smooth the movement between keyframes. Navigate to
       the timeline editor and press t. Again, set the interpolation to linear. This way the amount
       of time it takes to travel from keyframe to keyframe is constant, just as in the still camera
       animation. <br />
       <div class="w3-col l12 m12 w3-margin-bottom w3-margin-top" > <!--see https://www.w3schools.com/w3css/w3css_grid.asp -->
           <div class="w3-display-container" >
             <img src="images/timeline_61.PNG" class="w3-image" style="width:60%">
           </div>
         </a> <!-- end link -->
         </div>
       4. Navigate one second further into your animation. Since I was using 60fps, this is frame 61 (since I began
       with frame 1). <br />
       5. Once you've keyframed everything you want, you're done! Blender makes dynamic camera animations
       pretty straightforward, since we're just dipping our toes in what's possible with Blender.
       More advanced dynamic scenes are certainly possible, and would be great extentions of this
       project for the future. <br />


    </p>
  </div>

<!-- End page content -->
</div>


<!-- Footer -->
<footer class="w3-center w3-black w3-padding-16">
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">w3.css</a></p>
</footer>

</body>
</html>
